---
import { getRelativeLocaleUrl } from 'astro:i18n'
---

<header>
  <nav class="navbar navbar-expand-lg bg-white fixed-top p-3" x-data="state">
    <div class="container">
      <h1 class="navbar-brand fw-bold">BrandBuzz</h1>
      <button aria-label="Open Navbar" @click="toggle()" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button>
      <div x-show="isOpen" x-transition.duration.1500 class="navbar-collapse">
        <div class="navbar-nav mx-auto gap-2 gap-md-4 fs-4">
          <a href="#home" class="nav-link">Home</a>
          <a href="#layanan" class="nav-link">Layanan</a>
          <a href="#tentang" class="nav-link">Tentang Kami</a>
          <a href="#pricing" class="nav-link">Pricing</a>
          <a href="#contact" class="nav-link">Contact</a>
        </div>
        <div x-data="dropdown" class="mt-3 mt-lg-0">
          <button @click="onChange()" @click.away="isDrop = false" class="btn btn-outline-primary">Language <i class="icon bi bi-chevron-right" :class="isDrop ? 'rotate' : ''"></i></button>
          <div x-transition.duration.500 x-show="isDrop" class="position-absolute bg-body-tertiary px-4">
            <a class="d-block text-decoration-none" href={getRelativeLocaleUrl("id", "")}>Indonesian</a>
            <a class="d-block text-decoration-none" href={getRelativeLocaleUrl("ar", "")}>Arabic</a>
            <a class="d-block text-decoration-none" href={getRelativeLocaleUrl("ch", "")}>Chinese</a>
            <a class="d-block text-decoration-none" href={getRelativeLocaleUrl("en", "")}>English</a>
            <a class="d-block text-decoration-none" href={getRelativeLocaleUrl("es", "")}>Espanyol</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>

<style>
  .icon {
    display: inline-block;
    transition: transform 0.5s ease;
  }
  
  .icon.rotate {
    transform: rotate(90deg);
  }
</style>